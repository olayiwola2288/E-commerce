<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <style>
        #errMsg {
            display: none;
        }

        #modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40vw;
            background-color: #435640;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            gap: 50px;
            display: none;
        }
    </style>
</head>
<body>
    <section class="container-fluid col-lg-8 col-10 shadow-sm mt-lg-5 mt-4 py-2 ">
        <h1 class="text-danger text-decoration-underline text-center">E-Commerce</h1>
        <div class="form-foating my-3 ">
            <input type="text" class="form-control py-2" placeholder="Enter your item" id="productInput">
        </div>
        <div class="form-foating my-3 ">
            <button class="btn btn-danger w-100" onclick="saveProduct()">Add items</button>
        </div>
        <div class="alert alert-danger py-2 text-center" id="errMsg"></div>
    </section>
    <table id="myTable" class="table striped mx-5"></table>
    <section class="container" style="display: block;">
        <div class="row">
            <button class="btn btn-dark col-lg-1 col-5 my-1 mx-auto" onclick="delete_First()">Delete first item</button>
            <button class="btn btn-success col-lg-1 col-5 my-1 mx-auto " onclick="delete_last()">Delete last ite</button>
            <button class="btn btn-warning col-lg-1 col-5 my-1 mx-auto" onclick="delete_any()">Delete any item(s)</button>
            <button class="btn btn-info col-lg-1 col-5 my-1 mx-auto" onclick="showModal()">Edit item</button>
            <button class="btn btn-primary col-lg-1 col-5 my-1 mx-auto" onclick="add_start()">Add item to start</button>
            <button class="btn btn-secondary col-lg-1 col-5 my-1 mx-auto" onclick="delAll()">Delete all item</button>
        </div>
    </section>

    <div id="modal" class="p-4">
        <h1>Edit modal</h1>
        <input type="text" class="form-control" id="editProductInput" placeholder="Product Name">
        <input type="text" class="form-control" id="editProductIndex" placeholder="Product Index">
        <button class="btn btn-success btn-lg" onclick="editProduct()">Confirm Edit</button>
    </div>
<script>
    let allProduct = []
    
    function saveProduct() {
        if (productInput.value == "") {
            errMsg.innerHTML = "Enter product name"
            errMsg.style.display = "block"
            productInput.focus()
        } else {
            errMsg.style.display = "none"
            allProduct.push(productInput.value)
            console.log(allProduct);
            productInput.value = "";
            productInput.focus()

            displayProd()

        }
    } 
    function delete_First(){
        
        allProduct.shift()
        displayProd()
    }
    function delete_last() {
        allProduct.pop()
        displayProd()
    }
    function delete_any() {
        let startIndex = Number(prompt("Enter the starting point"))
        allProduct.splice(startIndex, 1)
        displayProd()
    }
    function add_start() {
        let unshiftItem = prompt("Enter the value")
        allProduct.unshift(unshiftItem)
        displayProd()
    }

    function delAll() {
        allProduct = []
        displayProd()
    }

    function showModal() {
        modal.style.display = "flex"
    }

    function editProduct() {
        allProduct.splice (editProductIndex.value, 1, editProductInput.value)
        modal.style.display = 'none'
        displayProd()
    }



    function displayProd() {
        let theTable = ""

        for (let index = 0; index < allProduct.length; index++) {
            theTable += `<tr >
                <td style="border: 1px solid gainsboro;">${index + 1}</td>
                <td style="border: 1px solid gainsboro;">${allProduct[index]}</td>
                </tr>`
        }

        myTable.innerHTML = theTable
    }

</script>
</body>
</html>